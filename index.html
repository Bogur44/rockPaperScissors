<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>

<div id="container"> 
<h1>Rock, Paper, Scissors</h1>

    <div id="choices">
        <button id="rock">ROCK</button>
        <button id="paper">PAPER</button>
        <button id="scissors">SCISSORS</button>
    </div>

<div id="playerPicks">
    <div id="playerPick" class="normal">You</div>
    <div id="compPick" class="normal">Computer</div>
</div>

<div id="answers">
    <p id="playerScore">You: 0</p>
    <p id="loses">Computer: 0</p>
    <p id="rounds">Rounds: 0</p>
</div>
<p id="drawColumn"></p>


    
</div>

</div>
<script>

var playerPick = document.getElementById('playerPick');
function pickedRock(){
    var playerPick = document.getElementById('playerPick');
    playerPick.classList.remove('paperPick','scissorsPick');
    playerPick.classList.add('rockPick');
}
function pickedPaper(){
    var playerPick = document.getElementById('playerPick');
    playerPick.classList.remove('scissorsPick');
    playerPick.classList.add('paperPick');
}
function pickedScissors(){
    var playerPick = document.getElementById('playerPick');
    playerPick.classList.remove('paperPick', 'rockPick');
    playerPick.classList.add('scissorsPick');
}


function pickedPcRock(){
    var playerPick = document.getElementById('compPick');
    compPick.classList.remove('paperPick','scissorsPick');
    compPick.classList.add('rockPick');
}
function pickedPcPaper(){
    var compPick = document.getElementById('compPick');
    compPick.classList.remove('scissorsPick','rockPick');
    compPick.classList.add('paperPick');
}
function pickedPcScissors(){
    var compPick = document.getElementById('compPick');
    compPick.classList.remove('paperPick', 'rockPick');
    compPick.classList.add('scissorsPick');
}

function compChoice(){
    if(computerSelection === 'rock'){
            pickedPcRock()
        }
    else if(computerSelection === 'paper'){
            pickedPcPaper()
        }
    else if(computerSelection === 'scissors'){
            pickedPcScissors()
        }
}
    //generating random computer outcome
const outcomes = [
        'paper',
        'scissors',
        'rock',
        ]
function getComputerChoice(){
    let results = outcomes[Math.floor(Math.random() * 3)];
    return results;
    }

    //all consts and vars
let wins = 0;
let loses = 0;
let rounds = 0;
let draw = "";

let playerSelection = '';
//const div = document.querySelector('#answers')


const winsContent = document.querySelector("#playerScore")
const losesContent = document.querySelector("#loses")
const roundsContent = document.querySelector("#rounds")
const drawContent = document.querySelector("#drawColumn")
const winText = document.querySelector(".winning")

let computerSelection = getComputerChoice();

const rockButton = document.querySelector('#rock');
rockButton.addEventListener('click', function(e){
    game('rock', getComputerChoice());
    pickedRock();
});

const paperButton = document.querySelector('#paper');
paperButton.addEventListener('click', function(e){
    game('paper', getComputerChoice());
    pickedPaper();  
});

const scissorsButton = document.querySelector('#scissors');
scissorsButton.addEventListener('click', function(e){
    game('scissors', getComputerChoice());
    pickedScissors();
});


    //says the outcome of one round
function playRound(playerSelection, computerSelection){
    compChoice()
    if (computerSelection === "rock" && playerSelection === "rock"){
        let result = "Its a draw, you both picked " + playerSelection
        return result;
    }   
    else if(computerSelection === "paper" && playerSelection === "rock"){
        let result = "You lose, " + computerSelection + " beats " + playerSelection
        return result;
    }   
    else if(computerSelection === "scissors" && playerSelection === "rock"){
        let result = "You win, " + playerSelection + " beats " + computerSelection
        return result; 
    }
    else if(computerSelection === "paper" && playerSelection === "paper"){
        let result = "Its a draw, you both picked " + playerSelection
        return result;
    }
    else if(computerSelection === "scissors" && playerSelection === "paper"){
        let result = "You lose, " + computerSelection + " beats " + playerSelection
        return result;
    }
    else if(computerSelection === "scissors" && playerSelection === "scissors"){
        let result = "Its a draw, you both picked " + playerSelection
        return result;
    }
    else if(computerSelection === "rock" && playerSelection === "scissors"){
        let result = "You lose, " + computerSelection + " beats " + playerSelection
        return result;
    }
    else if(computerSelection === "rock" && playerSelection === "paper"){
        let result = "You win, " + playerSelection + " beats " + computerSelection
        return result;
    }
    else if(computerSelection === "paper" && playerSelection === "scissors"){
        let result = "You win, " + playerSelection + " beats " + computerSelection
        return result;
    }
    
}


function game(playerSelection, computerSelection){
        let score = playRound(playerSelection, computerSelection)
        if (score.includes("lose")){
            drawContent.textContent = 'You lose, ' + computerSelection + " beats " + playerSelection;
            loses++;
            
        }
        else if(score.includes("win")){
            drawContent.textContent = 'You win, ' + playerSelection + " beats " + computerSelection;
            wins++;
        }
        else if(score.includes("draw")){
            drawContent.textContent = "Its a draw, you both picked " + playerSelection
        }
        rounds++
        winsContent.textContent = "You: " + wins;
        losesContent.textContent = "Computer: " + loses;
        roundsContent.textContent = "Rounds: " + rounds;
        console.log(playerSelection);
        console.log(computerSelection);
        console.log(playRound(playerSelection, computerSelection))
        if(wins === 5 || loses === 5){
            gameEnd(wins, loses);
            rounds = loses = wins = 0
        }
}


const p = document.createElement('p');
p.classList.add('p');

function gameEnd(wins, loses){
    if(wins > loses){
        const p = document.createElement('p');
    p.classList.add('p');
        p.style.add = '.winning';
        winText.textContent = "YOU WIN";
    }
    else if(wins < loses){
        const p = document.createElement('p');
    p.classList.add('p');
        p.style.add = '.losing';
        winText.textContent = "YOU LOSE";

    }
    else{
        winText.textContent = "wtf did you do?";
    }
}

</script>
</body>

</html>